<!--

<!DOCTYPE html>
<html>

<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<title>TRAINS</title>
<body>
  <div class="bg-modal">

<div class="generic-container">
    <div class="panel panel-default">
     Default panel contents -->
      <!--
      <div class="tablecontainer">
        <table class="table table-hover">
            <thead class="test">
                <tr class="lines">
                    <th>TRAIN_NO</th>
                    <th>ARRIVAL_TIME</th>
                    <th>DEPARTURE_TIME</th>
                    <th>STARTING_STATION</th>
                    <th>DESTINATION</th>
                    <th>FARE</th>

                    <th>ACTION</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let train of trains">
                    <td>{{train.train_no}}</td>
                    <td>{{train.arrival_time}}</td>
                    <td>{{train.departure_time}}</td>
                    <td>{{train.starting_station}}</td>
                    <td>{{train.destination}}</td>
                    <td>{{train.fare}}</td>

                    <td class="text-center"><button class="btn btn-danger btn-xs" (click)=" deleteTrain(train.id)"><span class="glyphicon glyphicon-remove"></span> Delete</button>
                       <br><br>  <button class="btn btn-danger btn-xs" (click)="updateTrain(train.id)" ><span class="glyphicon glyphicon-remove"></span>Edit</button>
                    </td>
            
                </tr>
            </tbody>
        </table>
      </div>
      <button class="testbutton" (click)=" addTrain()"><span class="glyphicon glyphicon-remove"></span> Add Train</button>

    </div>
</div>
</div>

</body>
</html>
 

-->
<!DOCTYPE html>
<html>

<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<title>ADMIN</title>
<body>
  <div class="home">
    <div class="overlay">
      <div class="container">
        <div class="border">
          <button class="btn btn-md btn-outline-primary" (click)="open(content)">
            <i class="fa fa-user"></i>ADD TRAIN</button>
            <button class="btn btn-md btn-outline-primary" (click)="open(contentLogout)">
              <i class="fa fa-user"></i>Log Out</button>
        </div>
        <table class="table table-bordered table-striped">
          <thead>
          <tr>
            <th>TRAIN NO</th>
            <th>ARRIVAL TIME</th>
            <th>DEPARTURE TIME</th>
            <th>STARTING STATION</th>
            <th>DESTINATION</th>
            <th>FARE</th>
            <th>ACTION</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let train of trains">
            <td>{{train.train_no}}</td>
            <td>{{train.arrival_time}}</td>
            <td>{{train.departure_time}}</td>
            <td>{{train.starting_station}}</td>
            <td>{{train.destination}}</td>
            <td>{{train.fare}}</td>
            <td>
              <button class="btn btn-sm btn-warning" (click)="openEdit(contentEdit, train,train.id)"><mat-icon>edit</mat-icon></button>
              <button class="btn btn-sm btn-danger"(click)="openDelete(contentDelete, train)"
              ><mat-icon>delete</mat-icon></button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      </div>

<!--------------ADD------------>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Train</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    
  </div>
  <div class="modal-body">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
      <div class="form-group">
        <label for="train_no">TRAIN NO</label>
        <div class="input-group">
          <input id="train_no" class="form-control" required [(ngModel)] = "trains.train_no" name = "train_no" >
        </div>
      </div>
      <div class="form-group">
        <label for="arrival_time">ARRIVAL TIME</label>
        <div class="input-group">
          <input id="arrival_time" class="form-control" required [(ngModel)] = "trains.arrival_time" name = "arrival_time" >
        </div>
      </div>
      <div class="form-group">
        <label for="departure_time">DEPARTURE TIME</label>
        <div class="input-group">
          <input id="departure_time" class="form-control" required [(ngModel)] = "trains.departure_time" name = "departure_time" >
        </div>
      </div>
      <div class="form-group">
        <label for="firstname">STARTING STATION</label>
        <div class="input-group">
          <input id="firstname" class="form-control"  required [(ngModel)] = "trains.starting_station" name = "starting_station" >
        </div>
      </div>
      <div class="form-group">
        <label for="destination">DESTINATION</label>
        <div class="input-group">
          <input id="destination" class="form-control"  required  [(ngModel)] = "trains.destination" name = "destination" >
        </div>
      </div>
      <div class="form-group">
        <label for="fare">FARE</label>
        <div class="input-group">
          <input id="fare" class="form-control" required [(ngModel)] = "trains.fare" name = "fare" >
        </div>
      </div>
      <div class="border text-center">
        <button data-dismiss="modal" class="btn btn-info">Submit</button>
        </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
  </div>
</ng-template>


<!--------------EDIT------------>
<ng-template #contentEdit let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Edit Train Details</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="editForm" novalidate>
      <div class="form-group">
        <label for="train_no">TRAIN NO</label>
        <div class="input-group">
          <input  formControlName="train_no" class="form-control" >
        </div>
      </div>
      <div class="form-group">
        <label for="arrival_time">ARRIVAL TIME</label>
        <div class="input-group">
          <input  formControlName="arrival_time" class="form-control" >
        </div>
      </div>
      <div class="form-group">
        <label for="departure_time">DEPARTURE TIME</label>
        <div class="input-group">
          <input formControlName="departure_time" class="form-control" >
        </div>
      </div>
      <div class="form-group">
        <label for="starting_station">STARTING STATION</label>
        <div class="input-group">
          <input  formControlName="starting_station" class="form-control" >
        </div>
      </div>
      <div class="form-group">
        <label for="destination">DESTINATION</label>
        <div class="input-group">
          <input  formControlName="destination" class="form-control" >
        </div>
      </div>
      <div class="form-group">
        <label for="fare">FARE</label>
        <div class="input-group">
          <input formControlName="fare" class="form-control" >
        </div>
      </div>
      <div class="border text-center">
        <button data-dismiss="modal" class="btn btn-info" (click)="onSave()" >Save Changes</button>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
  </div>
</ng-template>

<!-------------DELETE-------------->
<ng-template #contentDelete let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirm Delete</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <h2>Are you sure you want to delete this train ?</h2>
    <div class="border text-center"> 
      <button data-dismiss="modal" class="btn btn-danger" (click)="onDelete()" >Yes, Delete!</button> 
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
  </div>
</ng-template>


<!--Log Out-->

<ng-template #contentLogout let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirm Log Out</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <h2>Are you sure you want to Log Out ?</h2>
    <div class="border text-center"> 
      <button data-dismiss="modal" class="btn btn-danger" (click)="onLogOut()" >Yes</button> 
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
  </div>
</ng-template>
</div>
</body>
</html>

<!--
<div class="footer-clean">
  <footer>
      <div class="container">
          <div class="row justify-content-center">
              <div class="col-sm-4 col-md-3 item">
                  <h3>Services</h3>
                  <ul>
                      <li><a href="#">Train Booking</a></li>
                      <li><a href="#">Search</a></li>
                  </ul>
              </div>
              <div class="col-sm-4 col-md-3 item">
                  <h3>About</h3>
                  <ul>
                      <li><a href="#">Corporation</a></li>
                
                  </ul>
              </div>
              
              <div class="col-lg-3 item social">
                <a href="#"><span class="material-icons">
                facebook
              </span></a>
              <a href="#"><span class="material-icons">
                call
              </span></a>
              <a ><span class="material-icons" >
                feedback
              </span></a>
                  <p class="copyright">Pakisthan Railway Corporation © 2021</p>
              </div>
          </div>
      </div>
  </footer>
  -->

